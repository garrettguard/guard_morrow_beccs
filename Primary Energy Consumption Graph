library(rgcam);
library(ggplot2);
library(dplyr);
library(tidyverse);
[SSPx_primary_energy] <- getQuery([SSPx], "primary energy consumption by region (direct equivalent)");
[SSPx_primary_energy] <- add_global_rows([SSPx_primary_energy]);
[SSPx_primary_energy] <- add_ccs_col([SSPx_primary_energy]);
[SSPx_primary_energy] <- add_rcp_col([SSPx_primary_energy]);
[SSPx_primary_energy] <- subset([SSPx_primary_energy], region == "Global");
[SSPx_primary_energy] <- subset([SSPx_primary_energy], RCP!="Baseline");
[SSPx_primary_energy_plot] <- ggplot([SSPx_primary_energy], aes(year, value, fill=fuel)) + geom_bar(stat="identity") + xlim(2015,NA) + facet_wrap(~RCP + CCS) + xlab("Year") + ylab("Global Primary Energy EJ/Year") + ggtitle("[SSPx]");
[SSPx_primary_energy_plot]
